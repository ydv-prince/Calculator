<!DOCTYPE html>
<html lang="en">
<head>
    <title>Calculator</title>
    <style>
        body {
            padding: 10px;
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
        }
        button {
            margin: 4px;
            cursor: pointer;
        }
        .gray-button {
            font-size: 15px;
            font-weight: 600;
            color: white;
            background-color: rgb(24, 50, 60);
            padding: 25px;
            border: none;
            border-radius: 50%;
        }
        .yellow-button {
            font-size: 15px;
            font-weight: 600;
            color: white;
            background-color: rgb(135, 125, 15);
            padding: 25px;
            border: none;
            border-radius: 50%;
        }
        .js-input {
            font-size: 18px;
            font-weight: 600;
            color: rgb(227, 230, 234);
            background-color: rgb(78, 46, 82);
            padding: 10px;
            border: none;
            border-radius: 5px;
            width: calc(25% - 50px);
        }
        .js-calculation {
            font-size: 20px;
            font-weight: 600;
            color: rgb(227, 230, 234);
            margin: 10px 0;
        }
        button:hover {
            opacity: 0.9;
        }
        button:focus {
            outline: 2px solid white;
        }
    </style>
</head>
<body>
    <input 
        class="js-input" 
        placeholder="Enter value" 
        onkeydown="handleKeyDown(event)" 
    />
    <p class="js-calculation"></p>

    <p>
        <button class="js-1 button gray-button" onclick="updateCalculation('1')">1</button>
        <button class="js-2 button gray-button" onclick="updateCalculation('2')">2</button>
        <button class="js-3 button gray-button" onclick="updateCalculation('3')">3</button>
        <button class="js-plus button yellow-button" onclick="updateCalculation(' + ')">+</button>
    </p>

    <p>
        <button class="js-4 button gray-button" onclick="updateCalculation('4')">4</button>
        <button class="js-5 button gray-button" onclick="updateCalculation('5')">5</button>
        <button class="js-6 button gray-button" onclick="updateCalculation('6')">6</button>
        <button class="js-minus button yellow-button" onclick="updateCalculation(' - ')">-</button>
    </p>

    <p>
        <button class="js-7 button gray-button" onclick="updateCalculation('7')">7</button>
        <button class="js-8 button gray-button" onclick="updateCalculation('8')">8</button>
        <button class="js-9 button gray-button" onclick="updateCalculation('9')">9</button>
        <button class="js-mul button yellow-button" onclick="updateCalculation(' * ')">*</button>
    </p>

    <p>
        <button class="js-0 button gray-button" onclick="updateCalculation('0')">0</button>
        <button class="js-point button gray-button" onclick="updateCalculation('.')">.</button>
        <button class="js-equal button gray-button" onclick="calculateResult()">=</button>
        <button class="js-div button yellow-button" onclick="updateCalculation(' / ')">/</button>
    </p>

    <p>
        <button class="js-clear button yellow-button" onclick="clearCalculation()">Clear</button>
    </p>

    <script>
        let calculation = localStorage.getItem('calculation') || '';

        function updateCalculation(value) {
            calculation += value;
            updateDisplay();
        }

        function calculateResult() {
            try {
                calculation = new Function(`return ${calculation}`)().toString();
                updateDisplay();
            } catch (error) {
                alert('Invalid Calculation!');
                clearCalculation();
            }
        }

        function clearCalculation() {
            calculation = '';
            updateDisplay();
        }

        function updateDisplay() {
            document.querySelector('.js-calculation').textContent = calculation;
            document.querySelector('.js-input').value = calculation;
            localStorage.setItem('calculation', calculation);
        }

        function handleKeyDown(event) {
            if (event.key === 'Enter' || event.key === '=') {
                calculateResult();
            } else if (event.key === 'Backspace') {
                calculation = calculation.slice(0, -1);
                updateDisplay();
            } else if (
                (event.key >= '0' && event.key <= '9') ||
                ['+', '-', '*', '/', '.'].includes(event.key)
            ) {
                calculation += event.key;
                updateDisplay();
            }
            // Prevent default behavior of Enter key
            if (event.key === 'Enter') {
                event.preventDefault();
            }
        }

        // Initialize the display on page load.
        updateDisplay();
    </script>
</body>
</html>
